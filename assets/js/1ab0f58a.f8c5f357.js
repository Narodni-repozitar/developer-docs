"use strict";(self.webpackChunknrp_tech_docs=self.webpackChunknrp_tech_docs||[]).push([[942],{3905:(e,n,r)=>{r.d(n,{Zo:()=>p,kt:()=>h});var t=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function a(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=t.createContext({}),c=function(e){var n=t.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):l(l({},n),e)),r},p=function(e){var n=c(e.components);return t.createElement(s.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},f=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=c(r),f=o,h=d["".concat(s,".").concat(f)]||d[f]||u[f]||i;return r?t.createElement(h,l(l({ref:n},p),{},{components:r})):t.createElement(h,l({ref:n},p))}));function h(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=r.length,l=new Array(i);l[0]=f;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a[d]="string"==typeof e?e:o,l[1]=a;for(var c=2;c<i;c++)l[c]=r[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}f.displayName="MDXCreateElement"},8721:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var t=r(7462),o=(r(7294),r(3905));const i={},l="OARepo model builder files",a={unversionedId:"technology/invenio/nrp-toolchain/plugins/files",id:"technology/invenio/nrp-toolchain/plugins/files",title:"OARepo model builder files",description:"Plugin adding support for working with files based on the invenio model.",source:"@site/docs/technology/invenio/nrp-toolchain/plugins/files.md",sourceDirName:"technology/invenio/nrp-toolchain/plugins",slug:"/technology/invenio/nrp-toolchain/plugins/files",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/plugins/files",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/technology/invenio/nrp-toolchain/plugins/files.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"OARepo model builder expansions",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/plugins/expansions"},next:{title:"I18N values",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/plugins/i18n"}},s={},c=[{value:"Api",id:"api",level:2}],p={toc:c};function d(e){let{components:n,...r}=e;return(0,o.kt)("wrapper",(0,t.Z)({},p,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"oarepo-model-builder-files"},"OARepo model builder files"),(0,o.kt)("p",null,'Plugin adding support for working with files based on the invenio model.\nFiles are represented as another ("file") record connected with the original parent one.\nThe plugin generates the file record and modifies the parent record to create connection with new file one.\nThe file record is specified under "files" attribute in the model yaml file, see example\nin tests.'),(0,o.kt)("p",null,'The plugin runs the original model builder on the files model in "files" profile,\nreusing a lot of the model builder code with different configuration, notably with different\nbase classes for record, service, resource and config classes.\nTo get an idea which code is reused, see entrypoints. For configuration changes, see model preprocessors.'),(0,o.kt)("h2",{id:"api"},"Api"),(0,o.kt)("p",null,"The files plugin provides an api for working with files.\nThe api is by default accessible at {original model url}/{base record id}/files.\nThe api is taken from InvenioRDM, the docs are ",(0,o.kt)("a",{parentName:"p",href:"https://inveniordm.docs.cern.ch/reference/rest_api_drafts_records/#record-files"},"here")))}d.isMDXComponent=!0}}]);