"use strict";(self.webpackChunknrp_tech_docs=self.webpackChunknrp_tech_docs||[]).push([[795],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>f});var o=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,l=function(e,n){if(null==e)return{};var t,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var d=o.createContext({}),c=function(e){var n=o.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=c(e.components);return o.createElement(d.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,d=e.parentName,s=a(e,["components","mdxType","originalType","parentName"]),p=c(t),u=l,f=p["".concat(d,".").concat(u)]||p[u]||m[u]||r;return t?o.createElement(f,i(i({ref:n},s),{},{components:t})):o.createElement(f,i({ref:n},s))}));function f(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,i=new Array(r);i[0]=u;var a={};for(var d in n)hasOwnProperty.call(n,d)&&(a[d]=n[d]);a.originalType=e,a[p]="string"==typeof e?e:l,i[1]=a;for(var c=2;c<r;c++)i[c]=t[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},647:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var o=t(7462),l=(t(7294),t(3905));const r={sidebar_position:3},i="Scaffold a model",a={unversionedId:"technology/invenio/nrp-toolchain/scaffold-model",id:"technology/invenio/nrp-toolchain/scaffold-model",title:"Scaffold a model",description:"To simplify model development, nrp-cli provides the following tools:",source:"@site/docs/technology/invenio/nrp-toolchain/scaffold-model.md",sourceDirName:"technology/invenio/nrp-toolchain",slug:"/technology/invenio/nrp-toolchain/scaffold-model",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/scaffold-model",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/technology/invenio/nrp-toolchain/scaffold-model.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Test-run the repository",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/run-repository"},next:{title:"Edit the metadata",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/edit-metadata"}},d={},c=[{value:"<code>nrp-cli model add &lt;name&gt;</code>",id:"nrp-cli-model-add-name",level:2},{value:"Model plugins",id:"model-plugins",level:2}],s={toc:c};function p(e){let{components:n,...t}=e;return(0,l.kt)("wrapper",(0,o.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"scaffold-a-model"},"Scaffold a model"),(0,l.kt)("p",null,"To simplify model development, nrp-cli provides the following tools:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"nrp-cli model add <name>")," will add a model to the repository"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"nrp-cli model compile <name>")," compiles the model and generates invenio source files"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"nrp-cli model install <name>")," installs the model into a given site")),(0,l.kt)("h2",{id:"nrp-cli-model-add-name"},(0,l.kt)("inlineCode",{parentName:"h2"},"nrp-cli model add <name>")),(0,l.kt)("p",null,"This command initializes a new model. It will add ",(0,l.kt)("inlineCode",{parentName:"p"},"models/<name>")," directory and create two files in it:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"model.yaml")," contains a code for NRP generator (invoked by ",(0,l.kt)("inlineCode",{parentName:"li"},"nrp-cli model compile"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"metadata.yaml")," defines your metadata in a superset of jsonschema and opensearch mapping")),(0,l.kt)("p",null,"Having a ",(0,l.kt)("inlineCode",{parentName:"p"},"metadata.yaml")," from which all other invenio files are generated makes sure that all the files\nare in sync and saves you the tedious task of writing them by hand. This solution is also future-proof -\nif a new version of invenio, which is not backwards compatible, is released, NRP toolchain will be upgraded\nand you'll just regenerate the model."),(0,l.kt)("p",null,"The command will ask you if you want to inherit the model from a well-known schema or start from scratch."),(0,l.kt)("p",{style:{color:"red",fontWeight:"bold"}},"For now, just use the empty model - the other ones are not ready yet"),(0,l.kt)("h2",{id:"model-plugins"},"Model plugins"),(0,l.kt)("p",null,"The following plugins can be used in model. They will be installed automatically if you've selected them in model scaffolding."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/docs/technology/invenio/nrp-toolchain/plugins/tests"},"Tests generator")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/docs/technology/invenio/nrp-toolchain/plugins/files"},"Support for files on record")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/docs/technology/invenio/nrp-toolchain/plugins/i18n"},"I18N values inside record"))))}p.isMDXComponent=!0}}]);