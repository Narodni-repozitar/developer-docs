"use strict";(self.webpackChunknrp_tech_docs=self.webpackChunknrp_tech_docs||[]).push([[506],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||l;return n?o.createElement(h,a(a({ref:t},p),{},{components:n})):o.createElement(h,a({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,a=new Array(l);a[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[d]="string"==typeof e?e:r,a[1]=i;for(var c=2;c<l;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7376:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const l={sidebar_position:6},a="Install the model",i={unversionedId:"technology/invenio/nrp-toolchain/install-model",id:"technology/invenio/nrp-toolchain/install-model",title:"Install the model",description:"To install the model into a repository site, invoke nrp-cli model install .",source:"@site/docs/technology/invenio/nrp-toolchain/install-model.md",sourceDirName:"technology/invenio/nrp-toolchain",slug:"/technology/invenio/nrp-toolchain/install-model",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/install-model",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/technology/invenio/nrp-toolchain/install-model.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Generate the model",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/generate-model"},next:{title:"Runtime Libraries",permalink:"/developer-docs/docs/technology/invenio/nrp-toolchain/libraries/"}},s={},c=[],p={toc:c};function d(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"install-the-model"},"Install the model"),(0,r.kt)("p",null,"To install the model into a repository site, invoke ",(0,r.kt)("inlineCode",{parentName:"p"},"nrp-cli model install <model-name>"),".\nIt will ask you if you want to run tests on your model (",(0,r.kt)("span",{style:{color:"red"}},"WIP, please do not select it now"),"), install the model\ninto the site and perform database migrations to create the necessary tables. Finally it will\ncreate opensearch indices and aliases for the model."),(0,r.kt)("p",null,"Finally, run the server (",(0,r.kt)("inlineCode",{parentName:"p"},"./nrp-cli run"),") and head your browser to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://localhost:5000/api/model-name/")," - your API should be running there:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"API page",src:n(928).Z,width:"1124",height:"1068"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note"),": sample data have been imported into the API - it can be done by:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd sites/<site-module>\npipenv run invenio <modelname> load \\\n    ../../models/<modelname>/data/sample.yaml\n")),(0,r.kt)("p",null,"We will add a nrp-cli shortcut for it."))}d.isMDXComponent=!0},928:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/api-output-8d27ed20d19432ebbd0e82d31c705dbe.png"}}]);